<ol class="breadcrumb">
  <li class="breadcrumb-item success" aria-current="page">
    Insurance Products
  </li>
</ol>

<div style="text-align: right">
  <button mat-button class="add-insurance-product-button" color="primary">
    <mat-icon>add</mat-icon>
    Add Product
  </button>
</div>

<table class="table table-striped">
  <thead>
    <tr>
      <th scope="col">#</th>
      <th scope="col">Product</th>
      <th scope="col">Product Type</th>
      <th scope="col">Price</th>
      <th scope="col">Edit</th>
      <th scope="col">Delete</th>
    </tr>
  </thead>
  <tbody *ngFor="let product of products; let number = index">
    <tr>
      <th scope="row">
        {{ number + 1 }}
      </th>
      <td>
        {{ product.productName }}
      </td>
      <td>
        {{ product.productType }}
      </td>
      <td>
        {{ product.price }}
      </td>
      <td>
        <button
          mat-button
          class="edit-button"
          color="primary"
          *ngIf="product.id"
          (click)="openEditModal(content, product.id)"
        >
          <mat-icon>edit</mat-icon>
        </button>
      </td>
      <td>
        <button
          mat-button
          class="delete-button"
          color="warn"
          *ngIf="product.id"
          (click)="onDeleteProduct(product.id)"
        >
          <mat-icon>delete</mat-icon>
        </button>
      </td>
    </tr>
  </tbody>
</table>

<ng-template #content let-modal>
  <div class="modal-header">
    <h4 class="modal-title" id="modal-basic-title">Profile update</h4>
    <button
      type="button"
      class="btn-close"
      aria-label="Close"
      (click)="modal.dismiss('Cross click')"
    ></button>
  </div>
  <div class="modal-body">
    <form>
      <div class="mb-3">
        <label for="dateOfBirth">Date of birth</label>
        <div class="input-group">
          <input
            id="dateOfBirth"
            class="form-control"
            placeholder="yyyy-mm-dd"
            name="dp"
            ngbDatepicker
            #dp="ngbDatepicker"
          />
          <button
            class="btn btn-outline-secondary bi bi-calendar3"
            (click)="dp.toggle()"
            type="button"
          ></button>
        </div>
      </div>
    </form>
  </div>
  <div class="modal-footer">
    <button
      type="button"
      class="btn btn-outline-dark"
      (click)="modal.close('Save click')"
    >
      Save
    </button>
  </div>
</ng-template>
